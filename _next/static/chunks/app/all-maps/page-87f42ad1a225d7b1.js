(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{3748:function(e,t,a){Promise.resolve().then(a.bind(a,8193))},8193:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var s=a(7437),r=a(2265);let n=(0,a(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var l=a(5135),i=a(2135),o=a(875),d=a(1662),c=a(270),x=a(4283),m=a(3585),u=a(1749),g=a(6727),p=a(9238),h=a(7797),y=a(2315),f=a(7648);function k(){let{language:e,t}=(0,u.Z)(),[a,k]=(0,r.useState)([]),[b,j]=(0,r.useState)(""),[N,w]=(0,r.useState)(new Set(["0","1","2","3"])),[v,S]=(0,r.useState)(new Set(["1","4"])),[C,D]=(0,r.useState)("card"),[E,B]=(0,r.useState)("date"),[_,L]=(0,r.useState)("desc"),[M,F]=(0,r.useState)(!0),[T,Z]=(0,r.useState)(null),[A,H]=(0,r.useState)([]),[P,z]=(0,r.useState)([]),[O,Q]=(0,r.useState)(0),[I,K]=(0,r.useState)(!1),[R,U]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let e=await (0,x.rQ)("data/mappers.json");if(!e.ok)throw Error("Failed to fetch mappers data");let t=await e.json();k(t.mappers||t)}catch(e){Z(e instanceof Error?e.message:"An error occurred")}finally{F(!1)}})()},[]);let W=r.useCallback(()=>{if(0===a.length)return[];let e=(0,m.jp)(a);return e=(0,m.Cw)(e,b,N,v),e=(0,c.bd)(e,E,_)},[a,b,N,v,E,_]);(0,r.useEffect)(()=>{let e=W();H(e),Q(0),z(e.slice(0,50)),U(e.length>50)},[W]);let Y=r.useCallback(()=>{!I&&R&&(K(!0),setTimeout(()=>{let e=O+1,t=50*e,a=t+50,s=A.slice(t,a);z(e=>[...e,...s]),Q(e),U(a<A.length),K(!1)},100))},[O,A,I,R]);return((0,r.useEffect)(()=>{let e=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-1e3&&Y()};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[Y]),M)?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-osu-pink mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading beatmaps..."})]})}):T?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("p",{className:"text-red-600 dark:text-red-400 mb-4",children:["Error: ",T]}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-osu-pink text-white rounded-lg hover:bg-osu-purple transition-colors",children:"Retry"})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-900 dark:to-gray-800",children:[(0,s.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-lg",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsx)(g.j,{})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)(f.default,{href:"/",className:"flex items-center gap-2 text-osu-pink hover:text-osu-purple transition-colors",children:[(0,s.jsx)(n,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"font-medium",children:t.backToHome})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(l.Z,{className:"h-6 w-6 text-osu-pink"}),(0,s.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-osu-pink via-osu-purple to-osu-blue bg-clip-text text-transparent",children:t.allBeatmaps})]})]}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t.description})]})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"sticky top-4 z-10 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg p-6 mb-8 border border-gray-200 dark:border-gray-700 shadow-lg animate-slide-in",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("input",{type:"text",placeholder:t.searchPlaceholder,value:b,onChange:e=>j(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-osu-pink focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200 ease-in-out"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 min-w-fit",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:[t.sortBy,":"]}),(0,s.jsxs)("select",{value:E,onChange:e=>B(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-osu-pink focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white transition-all duration-200 ease-in-out",children:[(0,s.jsx)("option",{value:"date",children:t.sortByDate}),(0,s.jsx)("option",{value:"artist",children:t.sortByArtist}),(0,s.jsx)("option",{value:"title",children:t.sortByTitle}),(0,s.jsx)("option",{value:"favorite",children:t.sortByFavorites}),(0,s.jsx)("option",{value:"playcount",children:t.sortByPlaycount})]}),(0,s.jsx)("button",{onClick:()=>L("asc"===_?"desc":"asc"),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 dark:border-gray-600 dark:hover:bg-gray-700 transition-all duration-200 ease-in-out",title:"asc"===_?"ko"===e?"오름차순":"Ascending":"ko"===e?"내림차순":"Descending",children:"asc"===_?(0,s.jsx)(i.Z,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"}):(0,s.jsx)(o.Z,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:[t.filterByMode,":"]}),(0,s.jsx)("div",{className:"flex gap-2 flex-wrap",children:[{mode:"0",name:"osu!",icon:"\uD83D\uDD34"},{mode:"1",name:"Taiko",icon:"\uD83E\uDD41"},{mode:"2",name:"Catch",icon:"\uD83C\uDF4E"},{mode:"3",name:"Mania",icon:"\uD83C\uDFB9"}].map(t=>{let{mode:a,name:r,icon:n}=t;return(0,s.jsx)("button",{onClick:()=>{let e=new Set(N);e.has(a)?e.delete(a):e.add(a),w(e)},className:"px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ease-in-out ".concat(N.has(a)?"bg-osu-pink text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),title:(0,h.Q5)(a,e),children:n},a)})})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,s.jsxs)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 whitespace-nowrap",children:[t.filterByStatus,":"]}),(0,s.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:v.has("1"),onChange:e=>{let t=new Set(v);e.target.checked?t.add("1"):t.delete("1"),S(t)},className:"rounded border-gray-300 text-osu-pink focus:ring-osu-pink"}),(0,s.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap",children:["\uD83C\uDFC6 ",t.ranked]})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:v.has("4"),onChange:e=>{let t=new Set(v);e.target.checked?t.add("4"):t.delete("4"),S(t)},className:"rounded border-gray-300 text-osu-pink focus:ring-osu-pink"}),(0,s.jsxs)("span",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-nowrap",children:["\uD83D\uDC96 ",t.loved]})]})]})]})]})]}),(0,s.jsx)("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:"ko"===e?"".concat(P.length,"/").concat(A.length,"개의 비트맵셋 표시 중"):"Showing ".concat(P.length," of ").concat(A.length," beatmapsets")})]}),(0,s.jsx)(y._,{items:P,getKey:e=>e.beatmapset_id,className:"minimal"===C?"space-y-3":"grid grid-cols-1 md:grid-cols-2 gap-6",renderItem:(e,t)=>(0,s.jsx)(d.W,{beatmapset:e,selectedModes:N,displayStyle:C,showMapperName:!0})}),I&&(0,s.jsxs)("div",{className:"text-center py-8 animate-fade-in",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-osu-pink mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 animate-pulse",children:"ko"===e?"더 많은 비트맵셋을 불러오는 중...":"Loading more beatmapsets..."})]}),!I&&R&&P.length>0&&(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("button",{onClick:Y,className:"px-6 py-3 bg-osu-pink text-white rounded-lg hover:bg-osu-pink-dark transition-colors duration-200 font-medium",children:"ko"===e?"더 보기":"Load More"})}),0===A.length&&!M&&(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"ko"===e?"검색 조건에 맞는 비트맵셋을 찾을 수 없습니다.":"No beatmapsets found matching your criteria."})}),!R&&P.length>0&&(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"ko"===e?"모든 비트맵셋을 표시했습니다.":"You've reached the end of the results."})})]}),(0,s.jsx)(p.U,{displayStyle:C,onDisplayStyleChange:D})]})}}},function(e){e.O(0,[203,348,971,117,744],function(){return e(e.s=3748)}),_N_E=e.O()}]);